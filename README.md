# OneKill - 进程管理工具

一个简洁高效的Windows进程管理工具，运行在系统托盘中。

## 功能特性

### 🔒 安全性
- **系统进程保护**：内置系统关键进程白名单，防止误杀系统进程
- **智能过滤**：自动过滤系统进程，只保存用户进程
- **多重验证**：关闭前显示确认对话框，避免误操作

### 💾 进程管理
- **保存当前进程**：将当前运行的进程保存为白名单
- **关闭其他进程**：关闭不在白名单中的进程
- **多轮重试**：最多执行3轮检查，确保顽固进程被关闭

### 🎯 核心优势
- **简洁界面**：只有3个菜单项，操作简单
- **高效执行**：使用系统命令，执行速度快
- **安全可靠**：多重保护机制，避免系统崩溃

## 使用方法

1. **保存进程列表**
   - 右键托盘图标 → "💾 保存当前进程"
   - 将当前运行的进程保存为白名单

2. **关闭其他进程**
   - 右键托盘图标 → "🗑️ 关闭其他进程"
   - 确认后自动关闭不在白名单中的进程

## 技术实现

### 系统进程白名单
```python
SYSTEM_PROCESSES = {
    'System', 'svchost.exe', 'explorer.exe', 'winlogon.exe', 'csrss.exe',
    'wininit.exe', 'services.exe', 'lsass.exe', 'spoolsv.exe', 'taskmgr.exe',
    # ... 更多系统进程
}
```

### 关闭机制
1. 使用 `taskkill /F /T` 强制关闭进程树
2. 如果失败，使用 `wmic` 命令强制终止
3. 最多执行3轮检查，每轮间隔2秒

## 配置文件

软件使用 `config.yaml` 文件保存进程白名单：

```yaml
saved_processes:
  - notepad.exe
  - chrome.exe
  - code.exe
```

## 安全说明

- 软件会自动过滤系统关键进程，确保系统稳定性
- 关闭操作需要用户确认，避免误操作
- 使用系统标准命令，安全可靠

## 依赖要求

- Python 3.6+
- PyQt6
- PyYAML

## 安装运行

```bash
pip install -r requirements.txt
python main.py
```
